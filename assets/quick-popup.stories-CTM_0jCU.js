import{j as e}from"./index-DlC1yEB1.js";import{r as m}from"./index-D5jfS-9e.js";import{S as H,D as O,W as L,a as z,M as W,d as $}from"./month-view-DXnLEf8S.js";import{B as l,V as t,D as U,f as E}from"./recurrence-editor-BX5e3chV.js";import{c as _}from"./dataSource-DYfez2P7.js";/* empty css               */import"./index-lf5wH9A6.js";const K=({})=>{const b=(s,r)=>!s||!r||!(s instanceof Date)||!(r instanceof Date)?"—":`${E(s,{format:"hh:mm a"})} - ${E(r,{format:"hh:mm a"})}`,R={dataSource:_,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly",Room:"Room"}},v=[{Id:"1",Room:"Room 1"},{Id:"2",Room:"Room 2"},{Id:"3",Room:"Room 3"},{Id:"4",Room:"Room 4"}],I={text:"Room",value:"Id"},[p,h]=m.useState(null),[a,j]=m.useState(null),n=m.useRef(null),c=()=>{h(null),j(null)},d=s=>{var r;(r=n.current)==null||r.addEvent({Id:Math.floor(Math.random()*100),Subject:p??"New Event",Location:"",StartTime:s==null?void 0:s.startTime,EndTime:s==null?void 0:s.endTime,IsAllDay:s==null?void 0:s.isAllDay,Description:"",room:a??null}),n.current.closeQuickInfoPopup(),c()},x=s=>{n.current.openEditor("Edit",s),n.current.closeQuickInfoPopup()},f=s=>{n.current.deleteEvent(s),n.current.closeQuickInfoPopup()},A=()=>{var s;(s=n.current)==null||s.closeQuickInfoPopup(),c()},g=({cellData:s})=>e.jsxs("div",{className:"quick-popup-header add-header",children:[e.jsx("span",{className:"header-title",children:"Book New Appointment"}),e.jsx("span",{className:"header-subtitle",children:s!=null&&s.isAllDay?"All Day":"Normal Event"})]}),C=({cellData:s})=>e.jsxs("div",{className:"quick-popup-content add-content",children:[e.jsx($,{placeholder:"Appointment Name",variant:t.Outlined,onChange:r=>h(r.value),labelMode:"Auto"}),e.jsx("div",{className:"room-field-wrapper",children:e.jsx(U,{placeholder:"Select a room no.",dataSource:v,fields:I,value:a,variant:t.Outlined,onChange:r=>j(r.value)})}),e.jsxs("div",{className:"time-display",children:[e.jsx("strong",{children:"Selected time:"}),e.jsx("br",{}),b(s==null?void 0:s.startTime,s==null?void 0:s.endTime)]})]}),T=({cellData:s})=>e.jsxs("div",{className:"quick-popup-footer add-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>d(s),children:"Book Event"}),e.jsx(l,{variant:t.Filled,onClick:A,children:"Cancel"})]}),y=({eventData:s})=>e.jsxs("div",{className:"quick-popup-header edit-header",children:[e.jsx("span",{className:"header-title",children:"Booking Details"}),e.jsx("span",{className:"header-subtitle",children:s!=null&&s.isAllDay?"All Day":"Normal Event"})]}),w=({eventData:s})=>{var r,N;return e.jsxs("div",{className:"quick-popup-content edit-content",children:[e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Appointment Name:"}),e.jsx("span",{children:(s==null?void 0:s.subject)||"Untitled Event"})]}),e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Booking Time:"}),e.jsx("span",{children:(N=(r=s==null?void 0:s.startTime)==null?void 0:r.toISOString)==null?void 0:N.call(r)})]}),(s==null?void 0:s.room)&&e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Room No:"}),e.jsx("span",{children:s.room})]})]})},F=({eventData:s})=>e.jsxs("div",{className:"quick-popup-footer edit-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>x(s),children:"Edit event"}),e.jsx(l,{variant:t.Filled,onClick:()=>f(s),children:"Delete Event"})]});return e.jsx("div",{className:"control-section",children:e.jsx("div",{className:"scheduler-control",children:e.jsxs(H,{ref:n,height:"550px",width:"100%",defaultSelectedDate:new Date(2025,6,14),eventSettings:R,quickInfo:{addHeader:g,addContent:C,addFooter:T,editHeader:y,editContent:w,editFooter:F,adaptive:!1},children:[e.jsx(O,{}),e.jsx(L,{}),e.jsx(z,{}),e.jsx(W,{})]})})})},re={title:"Scheduler/Quick Popup",parameters:{layout:"padded",docs:{description:{component:"Meta configuration for the Storybook stories"}}},tags:["autodocs"]},k={render:()=>e.jsx(K,{})},X=({})=>{const b=(o,i)=>!o||!i||!(o instanceof Date)||!(i instanceof Date)?"—":`${E(o,{format:"hh:mm a"})} - ${E(i,{format:"hh:mm a"})}`,R={dataSource:_,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly",Room:"Room"}},v=[{Id:"1",Room:"Room 1"},{Id:"2",Room:"Room 2"},{Id:"3",Room:"Room 3"},{Id:"4",Room:"Room 4"}],I={text:"Room",value:"Id"},[p,h]=m.useState(null),[a,j]=m.useState(null),[n,c]=m.useState({}),d=m.useRef(null),x=()=>{h(null),j(null),c({})},f=o=>{if(!o||o.trim()==="")return"Appointment name is required";if(o.length<3)return"Appointment name must be at least 3 characters";if(o.length>50)return"Appointment name must not exceed 50 characters"},A=()=>{const o=f(p);c(i=>({...i,subject:o}))},g=()=>{const o={},i=f(p);return i&&(o.subject=i),a||(o.room="Please select a room"),c(o),Object.keys(o).length===0},C=o=>{var i;g()&&((i=d.current)==null||i.addEvent({Id:Math.floor(Math.random()*100),Subject:p??"New Event",Location:"",StartTime:o==null?void 0:o.startTime,EndTime:o==null?void 0:o.endTime,IsAllDay:o==null?void 0:o.isAllDay,Description:"",room:a??null}),d.current.closeQuickInfoPopup(),x())},T=o=>{d.current.openEditor("Edit",o),d.current.closeQuickInfoPopup()},y=o=>{d.current.deleteEvent(o),d.current.closeQuickInfoPopup()},w=()=>{var o;(o=d.current)==null||o.closeQuickInfoPopup(),x()},F=({cellData:o})=>e.jsxs("div",{className:"quick-popup-header add-header",children:[e.jsx("span",{className:"header-title",children:"Book New Appointment"}),e.jsx("span",{className:"header-subtitle",children:o!=null&&o.isAllDay?"All Day":"Normal Event"})]}),s=({cellData:o})=>e.jsxs("div",{className:"quick-popup-content add-content",children:[e.jsxs("div",{className:"form-field",children:[e.jsx($,{placeholder:"Appointment Name",variant:t.Standard,onChange:i=>{h(i.value),n.subject&&c(u=>({...u,subject:void 0}))},onBlur:A,labelMode:"Auto"}),n.subject&&e.jsx("div",{className:"sf-form-error",children:n.subject})]}),e.jsxs("div",{className:"form-field",children:[e.jsx(U,{placeholder:"Select a room no.",dataSource:v,fields:I,value:a,variant:t.Standard,onChange:i=>{j(i.value),n.room&&c(u=>({...u,room:void 0}))}}),n.room&&e.jsx("div",{className:"sf-form-error",children:n.room})]}),e.jsxs("div",{className:"time-display",children:[e.jsx("strong",{children:"Selected time:"}),e.jsx("br",{}),b(o==null?void 0:o.startTime,o==null?void 0:o.endTime)]})]}),r=({cellData:o})=>e.jsxs("div",{className:"quick-popup-footer add-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>C(o),children:"Book Event"}),e.jsx(l,{variant:t.Filled,onClick:w,children:"Cancel"})]}),N=({eventData:o})=>e.jsxs("div",{className:"quick-popup-header edit-header",children:[e.jsx("span",{className:"header-title",children:"Booking Details"}),e.jsx("span",{className:"header-subtitle",children:o!=null&&o.isAllDay?"All Day":"Normal Event"})]}),G=({eventData:o})=>{var i,u;return e.jsxs("div",{className:"quick-popup-content edit-content",children:[e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Appointment Name:"}),e.jsx("span",{children:(o==null?void 0:o.subject)||"Untitled Event"})]}),e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Booking Time:"}),e.jsx("span",{children:(u=(i=o==null?void 0:o.startTime)==null?void 0:i.toISOString)==null?void 0:u.call(i)})]}),(o==null?void 0:o.room)&&e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Room No:"}),e.jsx("span",{children:o.room})]})]})},J=({eventData:o})=>e.jsxs("div",{className:"quick-popup-footer edit-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>T(o),children:"Edit event"}),e.jsx(l,{variant:t.Filled,onClick:()=>y(o),children:"Delete Event"})]});return e.jsx("div",{className:"control-section",children:e.jsx("div",{className:"scheduler-control",children:e.jsxs(H,{ref:d,height:"550px",width:"100%",defaultSelectedDate:new Date(2025,6,14),eventSettings:R,quickInfo:{addHeader:F,addContent:s,addFooter:r,editHeader:N,editContent:G,editFooter:J,adaptive:!1},children:[e.jsx(O,{}),e.jsx(L,{}),e.jsx(z,{}),e.jsx(W,{})]})})})},S={render:()=>e.jsx(X,{})};var P,B,Q;k.parameters={...k.parameters,docs:{...(P=k.parameters)==null?void 0:P.docs,source:{originalSource:`{
  render: () => <QuickPopupCustomize />
}`,...(Q=(B=k.parameters)==null?void 0:B.docs)==null?void 0:Q.source}}};var q,V,M;S.parameters={...S.parameters,docs:{...(q=S.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: () => <QuickPopupValidation />
}`,...(M=(V=S.parameters)==null?void 0:V.docs)==null?void 0:M.source}}};const ne=["QuickPopupCustomization","QuickPopupValidations"];export{k as QuickPopupCustomization,S as QuickPopupValidations,ne as __namedExportsOrder,re as default};
