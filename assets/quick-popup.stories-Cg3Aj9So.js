import{j as e}from"./index-DlC1yEB1.js";import{r as a}from"./index-D5jfS-9e.js";import{S as H,D as O,W as L,a as z,M as W,d as $}from"./month-view-DXGImPeR.js";import{B as l,V as t,D as U,f as b}from"./recurrence-editor-DkfzDKSK.js";import{c as _}from"./dataSource-DYfez2P7.js";/* empty css               */import"./index-lf5wH9A6.js";const K=({})=>{const m=(s,i)=>!s||!i||!(s instanceof Date)||!(i instanceof Date)?"—":`${b(s,{format:"hh:mm a"})} - ${b(i,{format:"hh:mm a"})}`,g={dataSource:_,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly",Room:"Room"}},R=[{Id:"1",Room:"Room 1"},{Id:"2",Room:"Room 2"},{Id:"3",Room:"Room 3"},{Id:"4",Room:"Room 4"}],v={text:"Room",value:"Id"},[h,x]=a.useState(null),[u,j]=a.useState(null),n=a.useRef(null),c=()=>{j(null)},d=s=>{var i;(i=n.current)==null||i.addEvent({Id:Math.floor(Math.random()*100),Subject:h??"New Event",Location:"",StartTime:s==null?void 0:s.startTime,EndTime:s==null?void 0:s.endTime,IsAllDay:s==null?void 0:s.isAllDay,Description:"",room:u??null}),n.current.closeQuickInfoPopup(),c()},f=s=>{n.current.openEditor("Edit",s),n.current.closeQuickInfoPopup()},N=s=>{n.current.deleteEvent(s),n.current.closeQuickInfoPopup()},I=()=>{var s;(s=n.current)==null||s.closeQuickInfoPopup(),c()},A=({cellData:s})=>e.jsxs("div",{className:"quick-popup-header add-header",children:[e.jsx("span",{className:"header-title",children:"Book New Appointment"}),e.jsx("span",{className:"header-subtitle",children:s!=null&&s.isAllDay?"All Day":"Normal Event"})]}),C=({cellData:s})=>e.jsxs("div",{className:"quick-popup-content add-content",children:[e.jsx($,{placeholder:"Appointment Name",variant:t.Outlined,onChange:i=>x(i.value),labelMode:"Auto"}),e.jsx("div",{className:"room-field-wrapper",children:e.jsx(U,{placeholder:"Select a room no.",dataSource:R,fields:v,value:u,variant:t.Outlined,onChange:i=>j(i.value)})}),e.jsxs("div",{className:"time-display",children:[e.jsx("strong",{children:"Selected time:"}),e.jsx("br",{}),m(s==null?void 0:s.startTime,s==null?void 0:s.endTime)]})]}),T=({cellData:s})=>e.jsxs("div",{className:"quick-popup-footer add-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>d(s),children:"Book Event"}),e.jsx(l,{variant:t.Filled,onClick:I,children:"Cancel"})]}),y=({eventData:s})=>e.jsxs("div",{className:"quick-popup-header edit-header",children:[e.jsx("span",{className:"header-title",children:"Booking Details"}),e.jsx("span",{className:"header-subtitle",children:s!=null&&s.isAllDay?"All Day":"Normal Event"})]}),w=({eventData:s})=>{var i,k;return e.jsxs("div",{className:"quick-popup-content edit-content",children:[e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Appointment Name:"}),e.jsx("span",{children:(s==null?void 0:s.subject)||"Untitled Event"})]}),e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Booking Time:"}),e.jsx("span",{children:(k=(i=s==null?void 0:s.startTime)==null?void 0:i.toISOString)==null?void 0:k.call(i)})]}),(s==null?void 0:s.room)&&e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Room No:"}),e.jsx("span",{children:s.room})]})]})},F=({eventData:s})=>e.jsxs("div",{className:"quick-popup-footer edit-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>f(s),children:"Edit event"}),e.jsx(l,{variant:t.Filled,onClick:()=>N(s),children:"Delete Event"})]});return e.jsx("div",{className:"control-section",children:e.jsx("div",{className:"scheduler-control",children:e.jsxs(H,{ref:n,height:"550px",width:"100%",selectedDate:new Date(2025,6,14),eventSettings:g,quickInfo:{addHeader:A,addContent:C,addFooter:T,editHeader:y,editContent:w,editFooter:F,adaptive:!1},children:[e.jsx(O,{}),e.jsx(L,{}),e.jsx(z,{}),e.jsx(W,{})]})})})},ie={title:"Scheduler/Quick Popup",parameters:{layout:"padded",docs:{description:{component:"Meta configuration for the Storybook stories"}}},tags:["autodocs"]},E={render:m=>e.jsx(K,{...m}),args:{}},X=({})=>{const m=(o,r)=>!o||!r||!(o instanceof Date)||!(r instanceof Date)?"—":`${b(o,{format:"hh:mm a"})} - ${b(r,{format:"hh:mm a"})}`,g={dataSource:_,fields:{id:"Id",subject:"Subject",location:"Location",description:"Description",startTime:"StartTime",endTime:"EndTime",isAllDay:"IsAllDay",isBlock:"IsBlock",isReadonly:"IsReadonly",Room:"Room"}},R=[{Id:"1",Room:"Room 1"},{Id:"2",Room:"Room 2"},{Id:"3",Room:"Room 3"},{Id:"4",Room:"Room 4"}],v={text:"Room",value:"Id"},[h,x]=a.useState(null),[u,j]=a.useState(null),[n,c]=a.useState({}),d=a.useRef(null),f=()=>{x(null),j(null),c({})},N=o=>{if(!o||o.trim()==="")return"Appointment name is required";if(o.length<3)return"Appointment name must be at least 3 characters";if(o.length>50)return"Appointment name must not exceed 50 characters"},I=()=>{const o=N(h);c(r=>({...r,subject:o}))},A=()=>{const o={},r=N(h);return r&&(o.subject=r),u||(o.room="Please select a room"),c(o),Object.keys(o).length===0},C=o=>{var r;A()&&((r=d.current)==null||r.addEvent({Id:Math.floor(Math.random()*100),Subject:h??"New Event",Location:"",StartTime:o==null?void 0:o.startTime,EndTime:o==null?void 0:o.endTime,IsAllDay:o==null?void 0:o.isAllDay,Description:"",room:u??null}),d.current.closeQuickInfoPopup(),f())},T=o=>{d.current.openEditor("Edit",o),d.current.closeQuickInfoPopup()},y=o=>{d.current.deleteEvent(o),d.current.closeQuickInfoPopup()},w=()=>{var o;(o=d.current)==null||o.closeQuickInfoPopup(),f()},F=({cellData:o})=>e.jsxs("div",{className:"quick-popup-header add-header",children:[e.jsx("span",{className:"header-title",children:"Book New Appointment"}),e.jsx("span",{className:"header-subtitle",children:o!=null&&o.isAllDay?"All Day":"Normal Event"})]}),s=({cellData:o})=>e.jsxs("div",{className:"quick-popup-content add-content",children:[e.jsxs("div",{className:"form-field",children:[e.jsx($,{placeholder:"Appointment Name",variant:t.Standard,onChange:r=>{x(r.value),n.subject&&c(p=>({...p,subject:void 0}))},onBlur:I,labelMode:"Auto"}),n.subject&&e.jsx("div",{className:"sf-form-error",children:n.subject})]}),e.jsxs("div",{className:"form-field",children:[e.jsx(U,{placeholder:"Select a room no.",dataSource:R,fields:v,value:u,variant:t.Standard,onChange:r=>{j(r.value),n.room&&c(p=>({...p,room:void 0}))}}),n.room&&e.jsx("div",{className:"sf-form-error",children:n.room})]}),e.jsxs("div",{className:"time-display",children:[e.jsx("strong",{children:"Selected time:"}),e.jsx("br",{}),m(o==null?void 0:o.startTime,o==null?void 0:o.endTime)]})]}),i=({cellData:o})=>e.jsxs("div",{className:"quick-popup-footer add-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>C(o),children:"Book Event"}),e.jsx(l,{variant:t.Filled,onClick:w,children:"Cancel"})]}),k=({eventData:o})=>e.jsxs("div",{className:"quick-popup-header edit-header",children:[e.jsx("span",{className:"header-title",children:"Booking Details"}),e.jsx("span",{className:"header-subtitle",children:o!=null&&o.isAllDay?"All Day":"Normal Event"})]}),G=({eventData:o})=>{var r,p;return e.jsxs("div",{className:"quick-popup-content edit-content",children:[e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Appointment Name:"}),e.jsx("span",{children:(o==null?void 0:o.subject)||"Untitled Event"})]}),e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Booking Time:"}),e.jsx("span",{children:(p=(r=o==null?void 0:o.startTime)==null?void 0:r.toISOString)==null?void 0:p.call(r)})]}),(o==null?void 0:o.room)&&e.jsxs("div",{className:"field-row",children:[e.jsx("strong",{className:"field-label",children:"Room No:"}),e.jsx("span",{children:o.room})]})]})},J=({eventData:o})=>e.jsxs("div",{className:"quick-popup-footer edit-footer",children:[e.jsx(l,{variant:t.Filled,onClick:()=>T(o),children:"Edit event"}),e.jsx(l,{variant:t.Filled,onClick:()=>y(o),children:"Delete Event"})]});return e.jsx("div",{className:"control-section",children:e.jsx("div",{className:"scheduler-control",children:e.jsxs(H,{ref:d,height:"550px",width:"100%",selectedDate:new Date(2025,6,14),eventSettings:g,quickInfo:{addHeader:F,addContent:s,addFooter:i,editHeader:k,editContent:G,editFooter:J,adaptive:!1},children:[e.jsx(O,{}),e.jsx(L,{}),e.jsx(z,{}),e.jsx(W,{})]})})})},S={render:m=>e.jsx(X,{...m}),args:{}};var P,B,Q;E.parameters={...E.parameters,docs:{...(P=E.parameters)==null?void 0:P.docs,source:{originalSource:`{
  render: args => <QuickPopupCustomize {...args} />,
  args: {}
}`,...(Q=(B=E.parameters)==null?void 0:B.docs)==null?void 0:Q.source}}};var q,V,M;S.parameters={...S.parameters,docs:{...(q=S.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: args => <QuickPopupValidation {...args} />,
  args: {}
}`,...(M=(V=S.parameters)==null?void 0:V.docs)==null?void 0:M.source}}};const ne=["QuickPopupCustomization","QuickPopupValidations"];export{E as QuickPopupCustomization,S as QuickPopupValidations,ne as __namedExportsOrder,ie as default};
